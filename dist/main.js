(()=>{"use strict";const e=document.querySelector(".city"),t=document.querySelector(".icon"),r=document.querySelector(".description"),n=document.querySelector(".temp"),c=document.querySelector(".wind"),o=document.querySelector(".weather"),{body:a}=document,s=document.querySelector(".search-bar"),i=document.querySelector(".search button"),d=document.querySelector(".humidity"),u=document.querySelector(".menu-celsius"),h=document.querySelector(".menu-fahrenhiet"),m={apiKey:"6cc39499b21c43c7fc630c0c52e1295f",getWeatherData(e){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=${this.apiKey}`).then((e=>{if(!e.ok)throw alert("No weather found."),new Error("No weather found.");return e.json()})).then((e=>this.displayWeather(e)))},displayWeather(s){const{name:i}=s,{icon:m,description:l}=s.weather[0],{temp:p,humidity:y}=s.main,{speed:b}=s.wind;e.innerText=`Weather in ${i}`,t.src=`https://openweathermap.org/img/wn/${m}.png`,r.innerText=l,n.innerText=`${p}°C`,d.innerText=`Humidity: ${y}%`,c.innerText=`Wind speed: ${b} km/h`,o.classList.remove("loading"),a.style.backgroundImage="url('https://source.unsplash.com/1600x900/?"+i+"')",u.addEventListener("click",(()=>{n.innerText=`${p}°C`,u.classList.add("button-border"),h.classList.remove("button-border")})),h.addEventListener("click",(()=>{n.innerText=9*Math.round(p)/5+32+"°F",h.classList.add("button-border"),u.classList.remove("button-border")}))},search(){this.getWeatherData(s.value),u.classList.add("button-border"),h.classList.remove("button-border")}};i.addEventListener("click",(()=>{m.search()})),s.addEventListener("keyup",(e=>{"Enter"===e.key&&m.search()})),u.classList.add("button-border"),m.getWeatherData("Accra")})();